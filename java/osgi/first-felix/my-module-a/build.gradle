//jar {
//    baseName = 'demo'
//    version = '0.0.1-SNAPSHOT'
//}


apply plugin: 'osgi'


jar {
    enabled = true

    manifest {
        instruction 'Private-Package', 'com.github.btpka3.first.felix.my.module.a.impl'
        instruction 'Bundle-Vendor', 'btpka3'
        instruction 'Bundle-Description', 'Demo Framework'
        instruction 'Bundle-DocURL', 'http://www.test.com'
    }
}

dependencies {
    //compile('org.springframework.boot:spring-boot-actuator')
    compile('commons-logging:commons-logging:1.2')
    compile('org.apache.logging.log4j:log4j-api:2.10.0')
    compile('org.apache.logging.log4j:log4j-core:2.10.0')
    compile('org.apache.logging.log4j:log4j-jcl:2.10.0')
    compile('org.apache.felix:org.apache.felix.framework:5.6.0')
    compile('org.osgi:osgi.annotation:7.0.0')
}
bootJar {
    enabled = false
    //classifier = 'boot'
}


test {
    include 'me/test/**'
    testLogging.showStandardStreams = false
    // listen to events in the test execution lifecycle
//    beforeTest { descriptor ->
//        logger.lifecycle("Running test: " + descriptor)
//    }
//
//    // listen to standard out and standard error of the test JVM(s)
//    onOutput { descriptor, event ->
//        logger.lifecycle("Test: " + descriptor + " produced standard out/err: " + event.message )
//    }
}

