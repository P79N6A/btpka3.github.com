<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test</title>
    <script src="https://unpkg.com/bignumber.js@4.0.0"></script>
    <script>

        /*
         * task 1
         * 参考：
         *  http://edu.163.com/13/0409/16/8S1JVRU400294LNK.html
         *  https://mikemcl.github.io/bignumber.js/
         *  /java/my-groovy/Func01.groovy
         */

        /**
         * 已知 f(n), n是自然数，
         * 当n=1时，f(n) = 2;
         * 当n>1时，f(n) = 2*f(n-1)+3*2^(n-1)
         * 当 n = 10000 时 ， f(n)是?
         */

        // 常规实现方式
        function myTask1(n) {
            if (n === 1) {
                return 2
            } else {
                return 2 * myTask1(n - 1) + 3 * Math.pow(2, n - 1)
            }
        }
        console.log("myTask1(1) = " + myTask1(1));
        console.log("myTask1(2) = " + myTask1(2));
        console.log("myTask1(3) = " + myTask1(3));
        console.log("myTask1(4) = " + myTask1(4));
        console.log("myTask1(10) = " + myTask1(10));
        console.log("myTask1(10000) = " + myTask1(10000));

        console.log( new BigNumber(0.1).mul(0.2).toString());


        // 使用 bignumber.js + 递归
        function myTask2(n) {
            if (n === 1) {
                return new BigNumber(2)
            } else {
                return (new BigNumber(2)).mul(myTask2(n - 1))
                    .add(new BigNumber(3)
                        .mul(new BigNumber(2).pow(n - 1)))
            }
        }
        console.log("myTask2(1) = " + myTask2(1));
        console.log("myTask2(2) = " + myTask2(2));
        console.log("myTask2(3) = " + myTask2(3));
        console.log("myTask2(4) = " + myTask2(4));
        console.log("myTask2(10) = " + myTask2(10));
        console.log("myTask2(10000) = " + myTask2(10000).toFixed());

        // 使用 bignumber.js + 算式
        function myTask3(n) {
            //((3 / 2 * n - 1 / 2) * (2G**n))
           return new BigNumber(3).div(2).mul(n).minus(1/2).mul(new BigNumber(2).pow(n))
        }
        console.log("myTask3(1) = " + myTask3(1));
        console.log("myTask3(2) = " + myTask3(2));
        console.log("myTask3(3) = " + myTask3(3));
        console.log("myTask3(4) = " + myTask3(4));
        console.log("myTask3(10) = " + myTask3(10));
        console.log("myTask3(10000) = " + myTask3(10000).toFixed());


    </script>

</head>
<body>
please look at console.
</body>
</html>